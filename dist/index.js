'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.webhooks=exports.emails=exports.alarm_strategies_disable=exports.alarm_strategies_enable=exports.alarm_strategie_related=exports.alarm_strategie_status=exports.alarm_strategie=exports.alarm_strategies=exports.events=exports.tags=exports.metrics=exports.dashboard_favourite_update=exports.dashboard_params_update=exports.dashboard_update=exports.dashboard_create=exports.dashboard_remove=exports.dashboard_clone=exports.dashboard_charts=exports.dashboard_params=exports.dashboard=exports.dashboards=exports.hosts=undefined;var _qs=require('qs');var _toJSON=require('./toJSON');var _toJSON2=_interopRequireDefault(_toJSON);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hosts=exports.hosts=function hosts(hostNames){var params=(0,_qs.stringify)({offset:0,limit:20000,q:'avg:system.cpu.idle,avg:system.load.15,avg:system.cpu.iowait',windowTime:600,showTime:259200,hostNames:hostNames});return fetch('/overview.json?'+params).then(_toJSON2.default).then(function(res){return res.datum})};var dashboards=exports.dashboards=function dashboards(type){var windowTime=arguments.length<=1||arguments[1]===undefined?86400:arguments[1];var params=(0,_qs.stringify)({type:type,windowTime:windowTime});return fetch('/dashboards.json?'+params).then(_toJSON2.default)};var dashboard=exports.dashboard=function dashboard(id){return fetch('/dashboards/'+id+'/show.json').then(_toJSON2.default)};var dashboard_params=exports.dashboard_params=function dashboard_params(id){return fetch('/dashboards/'+id+'/params.json').then(_toJSON2.default)};var dashboard_charts=exports.dashboard_charts=function dashboard_charts(id){return fetch('/dashboards/'+id+'/charts.json').then(_toJSON2.default)};var dashboard_clone=exports.dashboard_clone=function dashboard_clone(id,dashboardName){return fetch('/dashboards/'+id+'/clone.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({dashboardName:dashboardName,dashboardDesc:'仪表盘描述'})}).then(_toJSON2.default)};var dashboard_remove=exports.dashboard_remove=function dashboard_remove(id){return fetch('/dashboards/'+id+'/delete.json',{method:'post'}).then(_toJSON2.default)};var dashboard_create=exports.dashboard_create=function dashboard_create(name){return fetch('/dashboards/add.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({dashboardName:name,type:'user'})}).then(_toJSON2.default)};var dashboard_update=exports.dashboard_update=function dashboard_update(id,propsDict){return fetch('/dashboards/'+id+'/update.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)(propsDict)}).then(_toJSON2.default)};var dashboard_params_update=exports.dashboard_params_update=function dashboard_params_update(id,params){return fetch('/dashboards/'+id+'/params.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({params:JSON.stringify(params)})}).then(_toJSON2.default)};var dashboard_favourite_update=exports.dashboard_favourite_update=function dashboard_favourite_update(id,favorite){return fetch('/dashboards/'+id+'/favorite.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({favorite:favorite})}).then(_toJSON2.default)};var metrics=exports.metrics=function metrics(){return fetch('/metrics.json').then(_toJSON2.default)};var tags=exports.tags=function tags(){return fetch('/tags.json').then(_toJSON2.default)};var events=exports.events=function events(){var windowTime=arguments.length<=0||arguments[0]===undefined?3600000:arguments[0];return fetch('/alarm/eventStream/list.json?'+(0,_qs.stringify)({windowTime:windowTime})).then(_toJSON2.default)};var alarm_strategies=exports.alarm_strategies=function alarm_strategies(status){return fetch('/alarm/strategy/alarmStrategies.json?'+(0,_qs.stringify)({status:status})).then(_toJSON2.default)};var alarm_strategie=exports.alarm_strategie=function alarm_strategie(id){return fetch('/alarm/strategy/'+id+'/alarmStrategy.json').then(_toJSON2.default)};var alarm_strategie_status=exports.alarm_strategie_status=function alarm_strategie_status(id){var windowTime=arguments.length<=1||arguments[1]===undefined?3600000:arguments[1];return fetch('/alarm/'+id+'/message/list.json?windowTime=3600000').then(_toJSON2.default)};var alarm_strategie_related=exports.alarm_strategie_related=function alarm_strategie_related(id){return fetch('/alarm/strategy/'+id+'/relatedAlarmStrategies.json').then(_toJSON2.default)};var alarm_strategies_enable=exports.alarm_strategies_enable=function alarm_strategies_enable(ids){return fetch('/alarm/strategy/disable.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({strategyIds:ids.toString(),disable:false})}).then(_toJSON2.default)};var alarm_strategies_disable=exports.alarm_strategies_disable=function alarm_strategies_disable(ids){return fetch('/alarm/strategy/disable.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({strategyIds:ids.toString(),disable:true})}).then(_toJSON2.default)};var emails=exports.emails=function emails(status){return fetch('/mailtos.json').then(_toJSON2.default)};var webhooks=exports.webhooks=function webhooks(status){return fetch('/webhook/list.json').then(_toJSON2.default)};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiNndCQU1PLElBQU0sb0JBQVEsU0FBUixLQUFRLENBQUMsU0FBRCxDQUFjLENBQ2pDLElBQUksT0FBUyxrQkFBVSxDQUNyQixPQUFRLENBQVIsQ0FDQSxNQUFPLEtBQVAsQ0FDQSxFQUFHLDhEQUFILENBQ0EsV0FBWSxHQUFaLENBQ0EsU0FBVSxNQUFWLENBQ0EsbUJBTnFCLENBQVYsQ0FBVCxDQUQ2QixPQVUxQix3QkFBd0IsTUFBeEIsRUFDSixJQURJLG1CQUVKLElBRkksQ0FFQyxxQkFBSyxJQUFJLEtBQUosQ0FBTCxDQUZSLENBVmlDLENBZTVCLElBQU0sOEJBQWEsU0FBYixVQUFhLENBQUMsSUFBRCxDQUE2QixLQUF0Qix5REFBYSxtQkFBUyxJQUVqRCxPQUFTLGtCQUFVLENBQ3JCLFNBRHFCLENBRXJCLHFCQUZxQixDQUFWLENBQVQsQ0FGaUQsT0FPOUMsMEJBQTBCLE1BQTFCLEVBQW9DLElBQXBDLGtCQUFQLENBUHFELENBVWhELElBQU0sNEJBQVksU0FBWixTQUFZLENBQUMsRUFBRCxDQUFRLENBQy9CLE9BQU8scUJBQXFCLGVBQXJCLEVBQXFDLElBQXJDLGtCQUFQLENBRCtCLENBSTFCLElBQU0sMENBQW1CLFNBQW5CLGdCQUFtQixDQUFDLEVBQUQsQ0FBUSxDQUN0QyxPQUFPLHFCQUFxQixpQkFBckIsRUFBdUMsSUFBdkMsa0JBQVAsQ0FEc0MsQ0FJakMsSUFBTSwwQ0FBbUIsU0FBbkIsZ0JBQW1CLENBQUMsRUFBRCxDQUFRLENBQ3RDLE9BQU8scUJBQXFCLGlCQUFyQixFQUF1QyxJQUF2QyxrQkFBUCxDQURzQyxDQUlqQyxJQUFNLHdDQUFrQixTQUFsQixlQUFrQixDQUFDLEVBQUQsQ0FBSyxhQUFMLENBQXNCLENBQ25ELE9BQU8scUJBQXFCLGdCQUFyQixDQUFzQyxDQUMzQyxPQUFRLE1BQVIsQ0FDQSxRQUFTLENBQUMsZUFBZ0IsbUNBQWhCLENBQVYsQ0FDQSxLQUFNLGtCQUFVLENBQ2QsMkJBRGMsQ0FFZCxjQUFlLE9BQWYsQ0FGSSxDQUFOLENBSEssRUFPSixJQVBJLGtCQUFQLENBRG1ELENBVzlDLElBQU0sMENBQW1CLFNBQW5CLGdCQUFtQixDQUFDLEVBQUQsQ0FBUSxDQUN0QyxPQUFPLHFCQUFxQixpQkFBckIsQ0FBdUMsQ0FDNUMsT0FBUSxNQUFSLENBREssRUFFSixJQUZJLGtCQUFQLENBRHNDLENBTWpDLElBQU0sMENBQW1CLFNBQW5CLGdCQUFtQixDQUFDLElBQUQsQ0FBUyxDQUN2QyxPQUFPLDZCQUE4QixDQUNuQyxPQUFRLE1BQVIsQ0FDQSxRQUFTLENBQUMsZUFBZ0IsbUNBQWhCLENBQVYsQ0FDQSxLQUFNLGtCQUFVLENBQ2QsY0FBZSxJQUFmLENBQ0EsS0FBTSxNQUFOLENBRkksQ0FBTixDQUhLLEVBT0osSUFQSSxrQkFBUCxDQUR1QyxDQVdsQyxJQUFNLDBDQUFtQixTQUFuQixnQkFBbUIsQ0FBQyxFQUFELENBQUssU0FBTCxDQUFrQixDQUNoRCxPQUFPLHFCQUFxQixpQkFBckIsQ0FBdUMsQ0FDNUMsT0FBUSxNQUFSLENBQ0EsUUFBUyxDQUFDLGVBQWdCLG1DQUFoQixDQUFWLENBQ0EsS0FBTSxrQkFBVSxTQUFWLENBQU4sQ0FISyxFQUlKLElBSkksa0JBQVAsQ0FEZ0QsQ0FRM0MsSUFBTSx3REFBMEIsU0FBMUIsdUJBQTBCLENBQUMsRUFBRCxDQUFLLE1BQUwsQ0FBZ0IsQ0FDckQsT0FBTyxxQkFBcUIsaUJBQXJCLENBQXVDLENBQzVDLE9BQVEsTUFBUixDQUNBLFFBQVMsQ0FBQyxlQUFnQixtQ0FBaEIsQ0FBVixDQUNBLEtBQU0sa0JBQVUsQ0FDZCxPQUFRLEtBQUssU0FBTCxDQUFlLE1BQWYsQ0FBUixDQURJLENBQU4sQ0FISyxFQU1KLElBTkksa0JBQVAsQ0FEcUQsQ0FVaEQsSUFBTSw4REFBNkIsU0FBN0IsMEJBQTZCLENBQUMsRUFBRCxDQUFLLFFBQUwsQ0FBaUIsQ0FFekQsT0FBTyxxQkFBcUIsbUJBQXJCLENBQXlDLENBQzlDLE9BQVEsTUFBUixDQUNBLFFBQVMsQ0FBQyxlQUFnQixtQ0FBaEIsQ0FBVixDQUNBLEtBQU0sa0JBQVUsQ0FDZCxpQkFEYyxDQUFWLENBQU4sQ0FISyxFQU1KLElBTkksa0JBQVAsQ0FGeUQsQ0FZcEQsSUFBTSx3QkFBVSxTQUFWLE9BQVUsRUFBSyxDQUMxQixPQUFPLE1BQU0sZUFBTixFQUF1QixJQUF2QixrQkFBUCxDQUQwQixDQUlyQixJQUFNLGtCQUFPLFNBQVAsSUFBTyxFQUFLLENBQ3ZCLE9BQU8sTUFBTSxZQUFOLEVBQW9CLElBQXBCLGtCQUFQLENBRHVCLENBSWxCLElBQU0sc0JBQVMsU0FBVCxNQUFTLEVBQXlCLEtBQXhCLHlEQUFhLHFCQUFXLE9BQ3RDLHNDQUFzQyxrQkFBVSxDQUNyRCxxQkFEcUQsQ0FBVixDQUF0QyxFQUVELElBRkMsa0JBQVAsQ0FENkMsQ0FNeEMsSUFBTSwwQ0FBbUIsU0FBbkIsZ0JBQW1CLENBQUMsTUFBRCxDQUFXLENBQ3pDLE9BQU8sOENBQThDLGtCQUFVLENBQzdELGFBRDZELENBQVYsQ0FBOUMsRUFFRCxJQUZDLGtCQUFQLENBRHlDLENBTXBDLElBQU0sd0NBQWtCLFNBQWxCLGVBQWtCLENBQUMsRUFBRCxDQUFPLENBQ3BDLE9BQU8seUJBQXlCLHdCQUF6QixFQUFrRCxJQUFsRCxrQkFBUCxDQURvQyxDQUkvQixJQUFNLHNEQUF5QixTQUF6QixzQkFBeUIsQ0FBQyxFQUFELENBQTZCLEtBQXhCLHlEQUFhLHFCQUFXLE9BQzFELGdCQUFnQiwwQ0FBaEIsRUFBMkQsSUFBM0Qsa0JBQVAsQ0FEaUUsQ0FJNUQsSUFBTSx3REFBMEIsU0FBMUIsdUJBQTBCLENBQUMsRUFBRCxDQUFPLENBQzVDLE9BQU8seUJBQXlCLGlDQUF6QixFQUEyRCxJQUEzRCxrQkFBUCxDQUQ0QyxDQUl2QyxJQUFNLHdEQUEwQixTQUExQix1QkFBMEIsQ0FBQyxHQUFELENBQVEsQ0FDN0MsT0FBTyxxQ0FBc0MsQ0FDM0MsT0FBUSxNQUFSLENBQ0EsUUFBUyxDQUFDLGVBQWdCLG1DQUFoQixDQUFWLENBQ0EsS0FBTSxrQkFBVSxDQUNkLFlBQWEsSUFBSSxRQUFKLEVBQWIsQ0FDQSxRQUFTLEtBQVQsQ0FGSSxDQUFOLENBSEssRUFPSixJQVBJLGtCQUFQLENBRDZDLENBV3hDLElBQU0sMERBQTJCLFNBQTNCLHdCQUEyQixDQUFDLEdBQUQsQ0FBUSxDQUM5QyxPQUFPLHFDQUFzQyxDQUMzQyxPQUFRLE1BQVIsQ0FDQSxRQUFTLENBQUMsZUFBZ0IsbUNBQWhCLENBQVYsQ0FDQSxLQUFNLGtCQUFVLENBQ2QsWUFBYSxJQUFJLFFBQUosRUFBYixDQUNBLFFBQVMsSUFBVCxDQUZJLENBQU4sQ0FISyxFQU9KLElBUEksa0JBQVAsQ0FEOEMsQ0FXekMsSUFBTSxzQkFBUyxTQUFULE1BQVMsQ0FBQyxNQUFELENBQVcsQ0FDL0IsT0FBTyx1QkFBdUIsSUFBdkIsa0JBQVAsQ0FEK0IsQ0FJMUIsSUFBTSwwQkFBVyxTQUFYLFFBQVcsQ0FBQyxNQUFELENBQVcsQ0FDakMsT0FBTyw0QkFBNEIsSUFBNUIsa0JBQVAsQ0FEaUMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZWQgYnkgeWFuIG9uIDE2LTItMjIuXG4gKi9cbmltcG9ydCB7c3RyaW5naWZ5fSBmcm9tICdxcyc7XG5pbXBvcnQgdG9KU09OIGZyb20gJy4vdG9KU09OJztcblxuZXhwb3J0IGNvbnN0IGhvc3RzID0gKGhvc3ROYW1lcyk9PiB7XG4gIGxldCBwYXJhbXMgPSBzdHJpbmdpZnkoe1xuICAgIG9mZnNldDogMCxcbiAgICBsaW1pdDogMjAwMDAsXG4gICAgcTogXCJhdmc6c3lzdGVtLmNwdS5pZGxlLGF2ZzpzeXN0ZW0ubG9hZC4xNSxhdmc6c3lzdGVtLmNwdS5pb3dhaXRcIixcbiAgICB3aW5kb3dUaW1lOiA2MDAsXG4gICAgc2hvd1RpbWU6IDI1OTIwMCxcbiAgICBob3N0TmFtZXNcbiAgfSk7XG5cbiAgcmV0dXJuIGZldGNoKGAvb3ZlcnZpZXcuanNvbj8ke3BhcmFtc31gKVxuICAgIC50aGVuKHRvSlNPTilcbiAgICAudGhlbihyZXM9PnJlcy5kYXR1bSk7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRzID0gKHR5cGUsIHdpbmRvd1RpbWUgPSA4NjQwMCk9PiB7XG5cbiAgbGV0IHBhcmFtcyA9IHN0cmluZ2lmeSh7XG4gICAgdHlwZSxcbiAgICB3aW5kb3dUaW1lXG4gIH0pO1xuXG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMuanNvbj8ke3BhcmFtc31gKS50aGVuKHRvSlNPTilcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZCA9IChpZCkgPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L3Nob3cuanNvbmApLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZF9wYXJhbXMgPSAoaWQpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9wYXJhbXMuanNvbmApLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZF9jaGFydHMgPSAoaWQpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9jaGFydHMuanNvbmApLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZF9jbG9uZSA9IChpZCwgZGFzaGJvYXJkTmFtZSk9PiB7XG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vY2xvbmUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgZGFzaGJvYXJkTmFtZSxcbiAgICAgIGRhc2hib2FyZERlc2M6ICfku6rooajnm5jmj4/ov7AnXG4gICAgfSlcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfcmVtb3ZlID0gKGlkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vZGVsZXRlLmpzb25gLCB7XG4gICAgbWV0aG9kOiAncG9zdCdcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfY3JlYXRlID0gKG5hbWUpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzL2FkZC5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICBkYXNoYm9hcmROYW1lOiBuYW1lLFxuICAgICAgdHlwZTogJ3VzZXInXG4gICAgfSlcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfdXBkYXRlID0gKGlkLCBwcm9wc0RpY3QpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L3VwZGF0ZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeShwcm9wc0RpY3QpXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX3BhcmFtc191cGRhdGUgPSAoaWQsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L3BhcmFtcy5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICBwYXJhbXM6IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcbiAgICB9KVxuICB9KS50aGVuKHRvSlNPTilcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZF9mYXZvdXJpdGVfdXBkYXRlID0gKGlkLCBmYXZvcml0ZSk9PiB7XG5cbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9mYXZvcml0ZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICBmYXZvcml0ZVxuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxuXG59XG5cbmV4cG9ydCBjb25zdCBtZXRyaWNzID0gKCk9PiB7XG4gIHJldHVybiBmZXRjaCgnL21ldHJpY3MuanNvbicpLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IHRhZ3MgPSAoKT0+IHtcbiAgcmV0dXJuIGZldGNoKCcvdGFncy5qc29uJykudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgZXZlbnRzID0gKHdpbmRvd1RpbWUgPSAzNjAwMDAwKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vZXZlbnRTdHJlYW0vbGlzdC5qc29uPyR7c3RyaW5naWZ5KHtcbiAgICB3aW5kb3dUaW1lXG4gIH0pfWApLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IGFsYXJtX3N0cmF0ZWdpZXMgPSAoc3RhdHVzKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvYWxhcm1TdHJhdGVnaWVzLmpzb24/JHtzdHJpbmdpZnkoe1xuICAgIHN0YXR1c1xuICB9KX1gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBhbGFybV9zdHJhdGVnaWUgPSAoaWQpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9hbGFybS9zdHJhdGVneS8ke2lkfS9hbGFybVN0cmF0ZWd5Lmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBhbGFybV9zdHJhdGVnaWVfc3RhdHVzID0gKGlkLCB3aW5kb3dUaW1lID0gMzYwMDAwMCk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtLyR7aWR9L21lc3NhZ2UvbGlzdC5qc29uP3dpbmRvd1RpbWU9MzYwMDAwMGApLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llX3JlbGF0ZWQgPSAoaWQpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9hbGFybS9zdHJhdGVneS8ke2lkfS9yZWxhdGVkQWxhcm1TdHJhdGVnaWVzLmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBhbGFybV9zdHJhdGVnaWVzX2VuYWJsZSA9IChpZHMpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9hbGFybS9zdHJhdGVneS9kaXNhYmxlLmpzb25gLCB7XG4gICAgbWV0aG9kOiAncG9zdCcsXG4gICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXG4gICAgYm9keTogc3RyaW5naWZ5KHtcbiAgICAgIHN0cmF0ZWd5SWRzOiBpZHMudG9TdHJpbmcoKSxcbiAgICAgIGRpc2FibGU6IGZhbHNlXG4gICAgfSlcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBhbGFybV9zdHJhdGVnaWVzX2Rpc2FibGUgPSAoaWRzKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvZGlzYWJsZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICBzdHJhdGVneUlkczogaWRzLnRvU3RyaW5nKCksXG4gICAgICBkaXNhYmxlOiB0cnVlXG4gICAgfSlcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBlbWFpbHMgPSAoc3RhdHVzKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvbWFpbHRvcy5qc29uYCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3Qgd2ViaG9va3MgPSAoc3RhdHVzKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvd2ViaG9vay9saXN0Lmpzb25gKS50aGVuKHRvSlNPTik7XG59Il19