'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.webhooks=exports.emails=exports.alarm_strategies_disable=exports.alarm_strategies_enable=exports.alarm_strategie_related=exports.alarm_strategie_status=exports.alarm_strategie=exports.alarm_strategies=exports.events=exports.tags=exports.metrics=exports.dashboard_favourite_update=exports.dashboard_params_update=exports.dashboard_update=exports.dashboard_create=exports.dashboard_remove=exports.dashboard_clone=exports.dashboard_charts=exports.dashboard_params=exports.dashboard=exports.dashboards=exports.hosts=undefined;var _qs=require('qs');var _toJSON=require('./toJSON');var hosts=exports.hosts=function hosts(hostNames){var params=(0,_qs.stringify)({offset:0,limit:20000,q:'avg:system.cpu.idle,avg:system.load.15,avg:system.cpu.iowait',windowTime:600,showTime:259200,hostNames:hostNames});return fetch('/overview.json?'+params).then(function(res){return res.json()}).then(function(res){return res.result.datum})};var dashboards=exports.dashboards=function dashboards(type){var windowTime=arguments.length<=1||arguments[1]===undefined?86400:arguments[1];var params=(0,_qs.stringify)({type:type,windowTime:windowTime});return fetch('/dashboards.json?'+params).then(_toJSON.toJSON)};var dashboard=exports.dashboard=function dashboard(id){return fetch('/dashboards/'+id+'/show.json').then(_toJSON.toJSON)};var dashboard_params=exports.dashboard_params=function dashboard_params(id){return fetch('/dashboards/'+id+'/params.json').then(_toJSON.toJSON)};var dashboard_charts=exports.dashboard_charts=function dashboard_charts(id){return fetch('/dashboards/'+id+'/charts.json').then(_toJSON.toJSON)};var dashboard_clone=exports.dashboard_clone=function dashboard_clone(id,dashboardName){return fetch('/dashboards/'+id+'/clone.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({dashboardName:dashboardName,dashboardDesc:'仪表盘描述'})}).then(_toJSON.toJSON)};var dashboard_remove=exports.dashboard_remove=function dashboard_remove(id){return fetch('/dashboards/'+id+'/delete.json',{method:'post'}).then(_toJSON.toJSON)};var dashboard_create=exports.dashboard_create=function dashboard_create(name){return fetch('/dashboards/add.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({dashboardName:name,type:'user'})}).then(_toJSON.toJSON)};var dashboard_update=exports.dashboard_update=function dashboard_update(id,propsDict){return fetch('/dashboards/'+id+'/update.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)(propsDict)}).then(_toJSON.toJSON)};var dashboard_params_update=exports.dashboard_params_update=function dashboard_params_update(id,params){return fetch('/dashboards/'+id+'/params.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({params:JSON.stringify(params)})}).then(_toJSON.toJSON)};var dashboard_favourite_update=exports.dashboard_favourite_update=function dashboard_favourite_update(id,favorite){return fetch('/dashboards/'+id+'/favorite.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({favorite:favorite})}).then(_toJSON.toJSON)};var metrics=exports.metrics=function metrics(){return fetch('/metrics.json').then(_toJSON.toJSON)};var tags=exports.tags=function tags(){return fetch('/tags.json').then(_toJSON.toJSON)};var events=exports.events=function events(){var windowTime=arguments.length<=0||arguments[0]===undefined?3600000:arguments[0];return fetch('/alarm/eventStream/list.json?'+(0,_qs.stringify)({windowTime:windowTime})).then(_toJSON.toJSON)};var alarm_strategies=exports.alarm_strategies=function alarm_strategies(status){return fetch('/alarm/strategy/alarmStrategies.json?'+(0,_qs.stringify)({status:status})).then(_toJSON.toJSON)};var alarm_strategie=exports.alarm_strategie=function alarm_strategie(id){return fetch('/alarm/strategy/'+id+'/alarmStrategy.json').then(_toJSON.toJSON)};var alarm_strategie_status=exports.alarm_strategie_status=function alarm_strategie_status(id){var windowTime=arguments.length<=1||arguments[1]===undefined?3600000:arguments[1];return fetch('/alarm/'+id+'/message/list.json?windowTime=3600000').then(_toJSON.toJSON)};var alarm_strategie_related=exports.alarm_strategie_related=function alarm_strategie_related(id){return fetch('/alarm/strategy/'+id+'/relatedAlarmStrategies.json').then(_toJSON.toJSON)};var alarm_strategies_enable=exports.alarm_strategies_enable=function alarm_strategies_enable(ids){return fetch('/alarm/strategy/disable.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({strategyIds:ids.toString(),disable:false})}).then(_toJSON.toJSON)};var alarm_strategies_disable=exports.alarm_strategies_disable=function alarm_strategies_disable(ids){return fetch('/alarm/strategy/disable.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({strategyIds:ids.toString(),disable:true})}).then(_toJSON.toJSON)};var emails=exports.emails=function emails(status){return fetch('/mailtos.json').then(_toJSON.toJSON)};var webhooks=exports.webhooks=function webhooks(status){return fetch('/webhook/list.json').then(_toJSON.toJSON)};
//# sourceMappingURL=data:application/json;base64,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TUFBUixDQUNBLFFBQVMsQ0FBQyxlQUFnQixtQ0FBaEIsQ0FBVixDQUNBLEtBQU0sa0JBQVUsQ0FDZCxZQUFhLElBQUksUUFBSixFQUFiLENBQ0EsUUFBUyxLQUFULENBRkksQ0FBTixDQUhLLEVBT0osSUFQSSxnQkFBUCxDQUQ2QyxDQVd4QyxJQUFNLDBEQUEyQixTQUEzQix3QkFBMkIsQ0FBQyxHQUFELENBQVEsQ0FDOUMsT0FBTyxxQ0FBc0MsQ0FDM0MsT0FBUSxNQUFSLENBQ0EsUUFBUyxDQUFDLGVBQWdCLG1DQUFoQixDQUFWLENBQ0EsS0FBTSxrQkFBVSxDQUNkLFlBQWEsSUFBSSxRQUFKLEVBQWIsQ0FDQSxRQUFTLElBQVQsQ0FGSSxDQUFOLENBSEssRUFPSixJQVBJLGdCQUFQLENBRDhDLENBV3pDLElBQU0sc0JBQVMsU0FBVCxNQUFTLENBQUMsTUFBRCxDQUFXLENBQy9CLE9BQU8sdUJBQXVCLElBQXZCLGdCQUFQLENBRCtCLENBSTFCLElBQU0sMEJBQVcsU0FBWCxRQUFXLENBQUMsTUFBRCxDQUFXLENBQ2pDLE9BQU8sNEJBQTRCLElBQTVCLGdCQUFQLENBRGlDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHlhbiBvbiAxNi0yLTIyLlxuICovXG5pbXBvcnQge3N0cmluZ2lmeX0gZnJvbSAncXMnO1xuaW1wb3J0IHt0b0pTT059IGZyb20gJy4vdG9KU09OJztcblxuZXhwb3J0IGNvbnN0IGhvc3RzID0gKGhvc3ROYW1lcyk9PiB7XG4gIGxldCBwYXJhbXMgPSBzdHJpbmdpZnkoe1xuICAgIG9mZnNldDogMCxcbiAgICBsaW1pdDogMjAwMDAsXG4gICAgcTogXCJhdmc6c3lzdGVtLmNwdS5pZGxlLGF2ZzpzeXN0ZW0ubG9hZC4xNSxhdmc6c3lzdGVtLmNwdS5pb3dhaXRcIixcbiAgICB3aW5kb3dUaW1lOiA2MDAsXG4gICAgc2hvd1RpbWU6IDI1OTIwMCxcbiAgICBob3N0TmFtZXNcbiAgfSk7XG5cbiAgcmV0dXJuIGZldGNoKGAvb3ZlcnZpZXcuanNvbj8ke3BhcmFtc31gKVxuICAgIC50aGVuKHJlcz0+cmVzLmpzb24oKSlcbiAgICAudGhlbihyZXM9PnJlcy5yZXN1bHQuZGF0dW0pO1xufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkcyA9ICh0eXBlLCB3aW5kb3dUaW1lID0gODY0MDApPT4ge1xuXG4gIGxldCBwYXJhbXMgPSBzdHJpbmdpZnkoe1xuICAgIHR5cGUsXG4gICAgd2luZG93VGltZVxuICB9KTtcblxuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLmpzb24/JHtwYXJhbXN9YCkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmQgPSAoaWQpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9zaG93Lmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfcGFyYW1zID0gKGlkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vcGFyYW1zLmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfY2hhcnRzID0gKGlkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vY2hhcnRzLmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfY2xvbmUgPSAoaWQsIGRhc2hib2FyZE5hbWUpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L2Nsb25lLmpzb25gLCB7XG4gICAgbWV0aG9kOiAncG9zdCcsXG4gICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXG4gICAgYm9keTogc3RyaW5naWZ5KHtcbiAgICAgIGRhc2hib2FyZE5hbWUsXG4gICAgICBkYXNoYm9hcmREZXNjOiAn5Luq6KGo55uY5o+P6L+wJ1xuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX3JlbW92ZSA9IChpZCkgPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L2RlbGV0ZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX2NyZWF0ZSA9IChuYW1lKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy9hZGQuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgZGFzaGJvYXJkTmFtZTogbmFtZSxcbiAgICAgIHR5cGU6ICd1c2VyJ1xuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX3VwZGF0ZSA9IChpZCwgcHJvcHNEaWN0KT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS91cGRhdGUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkocHJvcHNEaWN0KVxuICB9KS50aGVuKHRvSlNPTilcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZF9wYXJhbXNfdXBkYXRlID0gKGlkLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9wYXJhbXMuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgcGFyYW1zOiBKU09OLnN0cmluZ2lmeShwYXJhbXMpXG4gICAgfSlcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfZmF2b3VyaXRlX3VwZGF0ZSA9IChpZCwgZmF2b3JpdGUpPT4ge1xuXG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vZmF2b3JpdGUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgZmF2b3JpdGVcbiAgICB9KVxuICB9KS50aGVuKHRvSlNPTilcblxufVxuXG5leHBvcnQgY29uc3QgbWV0cmljcyA9ICgpPT4ge1xuICByZXR1cm4gZmV0Y2goJy9tZXRyaWNzLmpzb24nKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCB0YWdzID0gKCk9PiB7XG4gIHJldHVybiBmZXRjaCgnL3RhZ3MuanNvbicpLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IGV2ZW50cyA9ICh3aW5kb3dUaW1lID0gMzYwMDAwMCk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtL2V2ZW50U3RyZWFtL2xpc3QuanNvbj8ke3N0cmluZ2lmeSh7XG4gICAgd2luZG93VGltZVxuICB9KX1gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBhbGFybV9zdHJhdGVnaWVzID0gKHN0YXR1cyk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtL3N0cmF0ZWd5L2FsYXJtU3RyYXRlZ2llcy5qc29uPyR7c3RyaW5naWZ5KHtcbiAgICBzdGF0dXNcbiAgfSl9YCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llID0gKGlkKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvJHtpZH0vYWxhcm1TdHJhdGVneS5qc29uYCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llX3N0YXR1cyA9IChpZCwgd2luZG93VGltZSA9IDM2MDAwMDApPT4ge1xuICByZXR1cm4gZmV0Y2goYC9hbGFybS8ke2lkfS9tZXNzYWdlL2xpc3QuanNvbj93aW5kb3dUaW1lPTM2MDAwMDBgKS50aGVuKHRvSlNPTilcbn1cblxuZXhwb3J0IGNvbnN0IGFsYXJtX3N0cmF0ZWdpZV9yZWxhdGVkID0gKGlkKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvJHtpZH0vcmVsYXRlZEFsYXJtU3RyYXRlZ2llcy5qc29uYCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llc19lbmFibGUgPSAoaWRzKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvZGlzYWJsZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICBzdHJhdGVneUlkczogaWRzLnRvU3RyaW5nKCksXG4gICAgICBkaXNhYmxlOiBmYWxzZVxuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llc19kaXNhYmxlID0gKGlkcyk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtL3N0cmF0ZWd5L2Rpc2FibGUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgc3RyYXRlZ3lJZHM6IGlkcy50b1N0cmluZygpLFxuICAgICAgZGlzYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZW1haWxzID0gKHN0YXR1cyk9PiB7XG4gIHJldHVybiBmZXRjaChgL21haWx0b3MuanNvbmApLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYmhvb2tzID0gKHN0YXR1cyk9PiB7XG4gIHJldHVybiBmZXRjaChgL3dlYmhvb2svbGlzdC5qc29uYCkudGhlbih0b0pTT04pO1xufSJdfQ==