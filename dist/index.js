'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.webhooks=exports.emails=exports.alarm_strategies_disable=exports.alarm_strategies_enable=exports.alarm_strategie_related=exports.alarm_strategie_status=exports.alarm_strategie=exports.alarm_strategies=exports.events=exports.tags=exports.metrics=exports.dashboard_favourite_update=exports.dashboard_params_update=exports.dashboard_update=exports.dashboard_create=exports.dashboard_remove=exports.dashboard_clone=exports.dashboard_charts=exports.dashboard_params=exports.dashboard=exports.dashboards=exports.hosts=undefined;var _qs=require('qs');var _toJSON=require('./toJSON');var _toJSON2=_interopRequireDefault(_toJSON);var _isomorphicFetch=require('isomorphic-fetch');var _isomorphicFetch2=_interopRequireDefault(_isomorphicFetch);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var BASE_URL=process.env.BASE_URL;var hosts=exports.hosts=function hosts(hostNames){var params=(0,_qs.stringify)({offset:0,limit:20000,q:'avg:system.cpu.idle,avg:system.load.15,avg:system.cpu.iowait',windowTime:600,showTime:259200,hostNames:hostNames});return (0,_isomorphicFetch2.default)(BASE_URL+'/overview.json?'+params).then(_toJSON2.default).then(function(res){return res.datum})};var dashboards=exports.dashboards=function dashboards(type){var windowTime=arguments.length<=1||arguments[1]===undefined?86400:arguments[1];var params=(0,_qs.stringify)({type:type,windowTime:windowTime});return (0,_isomorphicFetch2.default)('/dashboards.json?'+params).then(_toJSON2.default)};var dashboard=exports.dashboard=function dashboard(id){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/show.json').then(_toJSON2.default)};var dashboard_params=exports.dashboard_params=function dashboard_params(id){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/params.json').then(_toJSON2.default)};var dashboard_charts=exports.dashboard_charts=function dashboard_charts(id){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/charts.json').then(_toJSON2.default)};var dashboard_clone=exports.dashboard_clone=function dashboard_clone(id,dashboardName){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/clone.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({dashboardName:dashboardName,dashboardDesc:'仪表盘描述'})}).then(_toJSON2.default)};var dashboard_remove=exports.dashboard_remove=function dashboard_remove(id){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/delete.json',{method:'post'}).then(_toJSON2.default)};var dashboard_create=exports.dashboard_create=function dashboard_create(name){return (0,_isomorphicFetch2.default)('/dashboards/add.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({dashboardName:name,type:'user'})}).then(_toJSON2.default)};var dashboard_update=exports.dashboard_update=function dashboard_update(id,propsDict){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/update.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)(propsDict)}).then(_toJSON2.default)};var dashboard_params_update=exports.dashboard_params_update=function dashboard_params_update(id,params){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/params.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({params:JSON.stringify(params)})}).then(_toJSON2.default)};var dashboard_favourite_update=exports.dashboard_favourite_update=function dashboard_favourite_update(id,favorite){return (0,_isomorphicFetch2.default)('/dashboards/'+id+'/favorite.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({favorite:favorite})}).then(_toJSON2.default)};var metrics=exports.metrics=function metrics(){return (0,_isomorphicFetch2.default)('/metrics.json').then(_toJSON2.default)};var tags=exports.tags=function tags(){return (0,_isomorphicFetch2.default)('/tags.json').then(_toJSON2.default)};var events=exports.events=function events(){var windowTime=arguments.length<=0||arguments[0]===undefined?3600000:arguments[0];return (0,_isomorphicFetch2.default)('/alarm/eventStream/list.json?'+(0,_qs.stringify)({windowTime:windowTime})).then(_toJSON2.default)};var alarm_strategies=exports.alarm_strategies=function alarm_strategies(status){return (0,_isomorphicFetch2.default)('/alarm/strategy/alarmStrategies.json?'+(0,_qs.stringify)({status:status})).then(_toJSON2.default)};var alarm_strategie=exports.alarm_strategie=function alarm_strategie(id){return (0,_isomorphicFetch2.default)('/alarm/strategy/'+id+'/alarmStrategy.json').then(_toJSON2.default)};var alarm_strategie_status=exports.alarm_strategie_status=function alarm_strategie_status(id){var windowTime=arguments.length<=1||arguments[1]===undefined?3600000:arguments[1];return (0,_isomorphicFetch2.default)('/alarm/'+id+'/message/list.json?windowTime=3600000').then(_toJSON2.default)};var alarm_strategie_related=exports.alarm_strategie_related=function alarm_strategie_related(id){return (0,_isomorphicFetch2.default)('/alarm/strategy/'+id+'/relatedAlarmStrategies.json').then(_toJSON2.default)};var alarm_strategies_enable=exports.alarm_strategies_enable=function alarm_strategies_enable(ids){return (0,_isomorphicFetch2.default)('/alarm/strategy/disable.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({strategyIds:ids.toString(),disable:false})}).then(_toJSON2.default)};var alarm_strategies_disable=exports.alarm_strategies_disable=function alarm_strategies_disable(ids){return (0,_isomorphicFetch2.default)('/alarm/strategy/disable.json',{method:'post',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:(0,_qs.stringify)({strategyIds:ids.toString(),disable:true})}).then(_toJSON2.default)};var emails=exports.emails=function emails(status){return (0,_isomorphicFetch2.default)('/mailtos.json').then(_toJSON2.default)};var webhooks=exports.webhooks=function webhooks(status){return (0,_isomorphicFetch2.default)('/webhook/list.json').then(_toJSON2.default)};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2xpYi9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiNjNCQU1BLElBQU0sU0FBVyxRQUFRLEdBQVIsQ0FBWSxRQUFaLENBRVYsSUFBTSxvQkFBUSxTQUFSLEtBQVEsQ0FBQyxTQUFELENBQWMsQ0FDakMsSUFBSSxPQUFTLGtCQUFVLENBQ3JCLE9BQVEsQ0FBUixDQUNBLE1BQU8sS0FBUCxDQUNBLEVBQUcsOERBQUgsQ0FDQSxXQUFZLEdBQVosQ0FDQSxTQUFVLE1BQVYsQ0FDQSxtQkFOcUIsQ0FBVixDQUFULENBRDZCLE9BVTFCLDhCQUFTLDJCQUEwQixNQUFuQyxFQUNKLElBREksbUJBRUosSUFGSSxDQUVDLHFCQUFLLElBQUksS0FBSixDQUFMLENBRlIsQ0FWaUMsQ0FlNUIsSUFBTSw4QkFBYSxTQUFiLFVBQWEsQ0FBQyxJQUFELENBQTZCLEtBQXRCLHlEQUFhLG1CQUFTLElBRWpELE9BQVMsa0JBQVUsQ0FDckIsU0FEcUIsQ0FFckIscUJBRnFCLENBQVYsQ0FBVCxDQUZpRCxPQU85QyxrREFBMEIsTUFBMUIsRUFBb0MsSUFBcEMsa0JBQVAsQ0FQcUQsQ0FVaEQsSUFBTSw0QkFBWSxTQUFaLFNBQVksQ0FBQyxFQUFELENBQVEsQ0FDL0IsT0FBTyw2Q0FBcUIsZUFBckIsRUFBcUMsSUFBckMsa0JBQVAsQ0FEK0IsQ0FJMUIsSUFBTSwwQ0FBbUIsU0FBbkIsZ0JBQW1CLENBQUMsRUFBRCxDQUFRLENBQ3RDLE9BQU8sNkNBQXFCLGlCQUFyQixFQUF1QyxJQUF2QyxrQkFBUCxDQURzQyxDQUlqQyxJQUFNLDBDQUFtQixTQUFuQixnQkFBbUIsQ0FBQyxFQUFELENBQVEsQ0FDdEMsT0FBTyw2Q0FBcUIsaUJBQXJCLEVBQXVDLElBQXZDLGtCQUFQLENBRHNDLENBSWpDLElBQU0sd0NBQWtCLFNBQWxCLGVBQWtCLENBQUMsRUFBRCxDQUFLLGFBQUwsQ0FBc0IsQ0FDbkQsT0FBTyw2Q0FBcUIsZ0JBQXJCLENBQXNDLENBQzNDLE9BQVEsTUFBUixDQUNBLFFBQVMsQ0FBQyxlQUFnQixtQ0FBaEIsQ0FBVixDQUNBLEtBQU0sa0JBQVUsQ0FDZCwyQkFEYyxDQUVkLGNBQWUsT0FBZixDQUZJLENBQU4sQ0FISyxFQU9KLElBUEksa0JBQVAsQ0FEbUQsQ0FXOUMsSUFBTSwwQ0FBbUIsU0FBbkIsZ0JBQW1CLENBQUMsRUFBRCxDQUFRLENBQ3RDLE9BQU8sNkNBQXFCLGlCQUFyQixDQUF1QyxDQUM1QyxPQUFRLE1BQVIsQ0FESyxFQUVKLElBRkksa0JBQVAsQ0FEc0MsQ0FNakMsSUFBTSwwQ0FBbUIsU0FBbkIsZ0JBQW1CLENBQUMsSUFBRCxDQUFTLENBQ3ZDLE9BQU8scURBQThCLENBQ25DLE9BQVEsTUFBUixDQUNBLFFBQVMsQ0FBQyxlQUFnQixtQ0FBaEIsQ0FBVixDQUNBLEtBQU0sa0JBQVUsQ0FDZCxjQUFlLElBQWYsQ0FDQSxLQUFNLE1BQU4sQ0FGSSxDQUFOLENBSEssRUFPSixJQVBJLGtCQUFQLENBRHVDLENBV2xDLElBQU0sMENBQW1CLFNBQW5CLGdCQUFtQixDQUFDLEVBQUQsQ0FBSyxTQUFMLENBQWtCLENBQ2hELE9BQU8sNkNBQXFCLGlCQUFyQixDQUF1QyxDQUM1QyxPQUFRLE1BQVIsQ0FDQSxRQUFTLENBQUMsZUFBZ0IsbUNBQWhCLENBQVYsQ0FDQSxLQUFNLGtCQUFVLFNBQVYsQ0FBTixDQUhLLEVBSUosSUFKSSxrQkFBUCxDQURnRCxDQVEzQyxJQUFNLHdEQUEwQixTQUExQix1QkFBMEIsQ0FBQyxFQUFELENBQUssTUFBTCxDQUFnQixDQUNyRCxPQUFPLDZDQUFxQixpQkFBckIsQ0FBdUMsQ0FDNUMsT0FBUSxNQUFSLENBQ0EsUUFBUyxDQUFDLGVBQWdCLG1DQUFoQixDQUFWLENBQ0EsS0FBTSxrQkFBVSxDQUNkLE9BQVEsS0FBSyxTQUFMLENBQWUsTUFBZixDQUFSLENBREksQ0FBTixDQUhLLEVBTUosSUFOSSxrQkFBUCxDQURxRCxDQVVoRCxJQUFNLDhEQUE2QixTQUE3QiwwQkFBNkIsQ0FBQyxFQUFELENBQUssUUFBTCxDQUFpQixDQUV6RCxPQUFPLDZDQUFxQixtQkFBckIsQ0FBeUMsQ0FDOUMsT0FBUSxNQUFSLENBQ0EsUUFBUyxDQUFDLGVBQWdCLG1DQUFoQixDQUFWLENBQ0EsS0FBTSxrQkFBVSxDQUNkLGlCQURjLENBQVYsQ0FBTixDQUhLLEVBTUosSUFOSSxrQkFBUCxDQUZ5RCxDQVlwRCxJQUFNLHdCQUFVLFNBQVYsT0FBVSxFQUFLLENBQzFCLE9BQU8sOEJBQU0sZUFBTixFQUF1QixJQUF2QixrQkFBUCxDQUQwQixDQUlyQixJQUFNLGtCQUFPLFNBQVAsSUFBTyxFQUFLLENBQ3ZCLE9BQU8sOEJBQU0sWUFBTixFQUFvQixJQUFwQixrQkFBUCxDQUR1QixDQUlsQixJQUFNLHNCQUFTLFNBQVQsTUFBUyxFQUF5QixLQUF4Qix5REFBYSxxQkFBVyxPQUN0Qyw4REFBc0Msa0JBQVUsQ0FDckQscUJBRHFELENBQVYsQ0FBdEMsRUFFRCxJQUZDLGtCQUFQLENBRDZDLENBTXhDLElBQU0sMENBQW1CLFNBQW5CLGdCQUFtQixDQUFDLE1BQUQsQ0FBVyxDQUN6QyxPQUFPLHNFQUE4QyxrQkFBVSxDQUM3RCxhQUQ2RCxDQUFWLENBQTlDLEVBRUQsSUFGQyxrQkFBUCxDQUR5QyxDQU1wQyxJQUFNLHdDQUFrQixTQUFsQixlQUFrQixDQUFDLEVBQUQsQ0FBTyxDQUNwQyxPQUFPLGlEQUF5Qix3QkFBekIsRUFBa0QsSUFBbEQsa0JBQVAsQ0FEb0MsQ0FJL0IsSUFBTSxzREFBeUIsU0FBekIsc0JBQXlCLENBQUMsRUFBRCxDQUE2QixLQUF4Qix5REFBYSxxQkFBVyxPQUMxRCx3Q0FBZ0IsMENBQWhCLEVBQTJELElBQTNELGtCQUFQLENBRGlFLENBSTVELElBQU0sd0RBQTBCLFNBQTFCLHVCQUEwQixDQUFDLEVBQUQsQ0FBTyxDQUM1QyxPQUFPLGlEQUF5QixpQ0FBekIsRUFBMkQsSUFBM0Qsa0JBQVAsQ0FENEMsQ0FJdkMsSUFBTSx3REFBMEIsU0FBMUIsdUJBQTBCLENBQUMsR0FBRCxDQUFRLENBQzdDLE9BQU8sNkRBQXNDLENBQzNDLE9BQVEsTUFBUixDQUNBLFFBQVMsQ0FBQyxlQUFnQixtQ0FBaEIsQ0FBVixDQUNBLEtBQU0sa0JBQVUsQ0FDZCxZQUFhLElBQUksUUFBSixFQUFiLENBQ0EsUUFBUyxLQUFULENBRkksQ0FBTixDQUhLLEVBT0osSUFQSSxrQkFBUCxDQUQ2QyxDQVd4QyxJQUFNLDBEQUEyQixTQUEzQix3QkFBMkIsQ0FBQyxHQUFELENBQVEsQ0FDOUMsT0FBTyw2REFBc0MsQ0FDM0MsT0FBUSxNQUFSLENBQ0EsUUFBUyxDQUFDLGVBQWdCLG1DQUFoQixDQUFWLENBQ0EsS0FBTSxrQkFBVSxDQUNkLFlBQWEsSUFBSSxRQUFKLEVBQWIsQ0FDQSxRQUFTLElBQVQsQ0FGSSxDQUFOLENBSEssRUFPSixJQVBJLGtCQUFQLENBRDhDLENBV3pDLElBQU0sc0JBQVMsU0FBVCxNQUFTLENBQUMsTUFBRCxDQUFXLENBQy9CLE9BQU8sK0NBQXVCLElBQXZCLGtCQUFQLENBRCtCLENBSTFCLElBQU0sMEJBQVcsU0FBWCxRQUFXLENBQUMsTUFBRCxDQUFXLENBQ2pDLE9BQU8sb0RBQTRCLElBQTVCLGtCQUFQLENBRGlDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IHlhbiBvbiAxNi0yLTIyLlxuICovXG5pbXBvcnQge3N0cmluZ2lmeX0gZnJvbSAncXMnO1xuaW1wb3J0IHRvSlNPTiBmcm9tICcuL3RvSlNPTic7XG5pbXBvcnQgZmV0Y2ggZnJvbSAnaXNvbW9ycGhpYy1mZXRjaCc7XG5jb25zdCBCQVNFX1VSTCA9IHByb2Nlc3MuZW52LkJBU0VfVVJMO1xuXG5leHBvcnQgY29uc3QgaG9zdHMgPSAoaG9zdE5hbWVzKT0+IHtcbiAgbGV0IHBhcmFtcyA9IHN0cmluZ2lmeSh7XG4gICAgb2Zmc2V0OiAwLFxuICAgIGxpbWl0OiAyMDAwMCxcbiAgICBxOiBcImF2ZzpzeXN0ZW0uY3B1LmlkbGUsYXZnOnN5c3RlbS5sb2FkLjE1LGF2ZzpzeXN0ZW0uY3B1Lmlvd2FpdFwiLFxuICAgIHdpbmRvd1RpbWU6IDYwMCxcbiAgICBzaG93VGltZTogMjU5MjAwLFxuICAgIGhvc3ROYW1lc1xuICB9KTtcblxuICByZXR1cm4gZmV0Y2goYCR7QkFTRV9VUkx9L292ZXJ2aWV3Lmpzb24/JHtwYXJhbXN9YClcbiAgICAudGhlbih0b0pTT04pXG4gICAgLnRoZW4ocmVzPT5yZXMuZGF0dW0pO1xufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkcyA9ICh0eXBlLCB3aW5kb3dUaW1lID0gODY0MDApPT4ge1xuXG4gIGxldCBwYXJhbXMgPSBzdHJpbmdpZnkoe1xuICAgIHR5cGUsXG4gICAgd2luZG93VGltZVxuICB9KTtcblxuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLmpzb24/JHtwYXJhbXN9YCkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmQgPSAoaWQpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9zaG93Lmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfcGFyYW1zID0gKGlkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vcGFyYW1zLmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfY2hhcnRzID0gKGlkKSA9PiB7XG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vY2hhcnRzLmpzb25gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfY2xvbmUgPSAoaWQsIGRhc2hib2FyZE5hbWUpPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L2Nsb25lLmpzb25gLCB7XG4gICAgbWV0aG9kOiAncG9zdCcsXG4gICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJ30sXG4gICAgYm9keTogc3RyaW5naWZ5KHtcbiAgICAgIGRhc2hib2FyZE5hbWUsXG4gICAgICBkYXNoYm9hcmREZXNjOiAn5Luq6KGo55uY5o+P6L+wJ1xuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX3JlbW92ZSA9IChpZCkgPT4ge1xuICByZXR1cm4gZmV0Y2goYC9kYXNoYm9hcmRzLyR7aWR9L2RlbGV0ZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX2NyZWF0ZSA9IChuYW1lKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy9hZGQuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgZGFzaGJvYXJkTmFtZTogbmFtZSxcbiAgICAgIHR5cGU6ICd1c2VyJ1xuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkX3VwZGF0ZSA9IChpZCwgcHJvcHNEaWN0KT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS91cGRhdGUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkocHJvcHNEaWN0KVxuICB9KS50aGVuKHRvSlNPTilcbn1cblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZF9wYXJhbXNfdXBkYXRlID0gKGlkLCBwYXJhbXMpID0+IHtcbiAgcmV0dXJuIGZldGNoKGAvZGFzaGJvYXJkcy8ke2lkfS9wYXJhbXMuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgcGFyYW1zOiBKU09OLnN0cmluZ2lmeShwYXJhbXMpXG4gICAgfSlcbiAgfSkudGhlbih0b0pTT04pXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRfZmF2b3VyaXRlX3VwZGF0ZSA9IChpZCwgZmF2b3JpdGUpPT4ge1xuXG4gIHJldHVybiBmZXRjaChgL2Rhc2hib2FyZHMvJHtpZH0vZmF2b3JpdGUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgZmF2b3JpdGVcbiAgICB9KVxuICB9KS50aGVuKHRvSlNPTilcblxufVxuXG5leHBvcnQgY29uc3QgbWV0cmljcyA9ICgpPT4ge1xuICByZXR1cm4gZmV0Y2goJy9tZXRyaWNzLmpzb24nKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCB0YWdzID0gKCk9PiB7XG4gIHJldHVybiBmZXRjaCgnL3RhZ3MuanNvbicpLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IGV2ZW50cyA9ICh3aW5kb3dUaW1lID0gMzYwMDAwMCk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtL2V2ZW50U3RyZWFtL2xpc3QuanNvbj8ke3N0cmluZ2lmeSh7XG4gICAgd2luZG93VGltZVxuICB9KX1gKS50aGVuKHRvSlNPTik7XG59XG5cbmV4cG9ydCBjb25zdCBhbGFybV9zdHJhdGVnaWVzID0gKHN0YXR1cyk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtL3N0cmF0ZWd5L2FsYXJtU3RyYXRlZ2llcy5qc29uPyR7c3RyaW5naWZ5KHtcbiAgICBzdGF0dXNcbiAgfSl9YCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llID0gKGlkKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvJHtpZH0vYWxhcm1TdHJhdGVneS5qc29uYCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llX3N0YXR1cyA9IChpZCwgd2luZG93VGltZSA9IDM2MDAwMDApPT4ge1xuICByZXR1cm4gZmV0Y2goYC9hbGFybS8ke2lkfS9tZXNzYWdlL2xpc3QuanNvbj93aW5kb3dUaW1lPTM2MDAwMDBgKS50aGVuKHRvSlNPTilcbn1cblxuZXhwb3J0IGNvbnN0IGFsYXJtX3N0cmF0ZWdpZV9yZWxhdGVkID0gKGlkKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvJHtpZH0vcmVsYXRlZEFsYXJtU3RyYXRlZ2llcy5qc29uYCkudGhlbih0b0pTT04pO1xufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llc19lbmFibGUgPSAoaWRzKT0+IHtcbiAgcmV0dXJuIGZldGNoKGAvYWxhcm0vc3RyYXRlZ3kvZGlzYWJsZS5qc29uYCwge1xuICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCd9LFxuICAgIGJvZHk6IHN0cmluZ2lmeSh7XG4gICAgICBzdHJhdGVneUlkczogaWRzLnRvU3RyaW5nKCksXG4gICAgICBkaXNhYmxlOiBmYWxzZVxuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgYWxhcm1fc3RyYXRlZ2llc19kaXNhYmxlID0gKGlkcyk9PiB7XG4gIHJldHVybiBmZXRjaChgL2FsYXJtL3N0cmF0ZWd5L2Rpc2FibGUuanNvbmAsIHtcbiAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnfSxcbiAgICBib2R5OiBzdHJpbmdpZnkoe1xuICAgICAgc3RyYXRlZ3lJZHM6IGlkcy50b1N0cmluZygpLFxuICAgICAgZGlzYWJsZTogdHJ1ZVxuICAgIH0pXG4gIH0pLnRoZW4odG9KU09OKVxufVxuXG5leHBvcnQgY29uc3QgZW1haWxzID0gKHN0YXR1cyk9PiB7XG4gIHJldHVybiBmZXRjaChgL21haWx0b3MuanNvbmApLnRoZW4odG9KU09OKTtcbn1cblxuZXhwb3J0IGNvbnN0IHdlYmhvb2tzID0gKHN0YXR1cyk9PiB7XG4gIHJldHVybiBmZXRjaChgL3dlYmhvb2svbGlzdC5qc29uYCkudGhlbih0b0pTT04pO1xufSJdfQ==